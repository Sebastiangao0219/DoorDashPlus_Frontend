<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/babel-standalone@6.26.0/babel.js"></script>
</head>
<body>
<h1>React Hooks</h1>
<div id="app"></div>

<script type="text/babel">
  // react components
  //  - class -> props, state, life cycle fn
  //  - function -> props, state X, l.c.f ? X

  // class App extends React.Component {
  //     state = {
  //         count: 0
  //     }
  //
  //     render() {
  //         return (
  //             <div>
  //                 <h4>Clicked { this.state.count } times</h4>
  //                 <button onClick={ this.add }>click +</button>
  //             </div>
  //         )
  //     }
  //
  //     add = () => {
  //         this.setState( preState => ({ count: preState.count + 1 }))
  //         // this.setState( preState => {
  //         //     return {
  //         //         count: preState.count + 1
  //         //     }
  //         // })
  //     }
  // }
  // function App() {
  //     const [count, setCount] = React.useState(0);
  //     const [step, setStep] = React.useState(0);
  //
  //     const onStepsChange = () => {
  //         // increase step by 1
  //         setStep( preState => preState + 1 )
  //     }
  //
  //     return (
  //         <div>
  //             <h4>Clicked { count } time!</h4>
  //             <button onClick={
  //                 () => {
  //                     // count -> count + 1
  //                     // this.setState
  //                     setCount(count + 1);
  //                 }
  //             }>click me + 1</button>
  //             <hr/>
  //             <h4>Today I have taken { step } steps!</h4>
  //             <button onClick={ onStepsChange }>I took another step</button>
  //         </div>
  //     )
  // }

  // class App extends React.Component {
  //     state = {
  //         count: 0
  //     }
  //     render() {
  //         return (
  //             <div>
  //                 <h4>Clicked { this.state.count } times!</h4>
  //                 <button onClick={
  //                     () => {
  //                         this.setState( preState => ({ count: preState.count + 1 }))
  //                     }
  //                 }>click me + 1</button>
  //             </div>
  //         )
  //     }
  //     componentDidMount() {
  //         console.log(`did mount, the count is ${ this.state.count }`); // ?
  //     }
  //     componentDidUpdate() {
  //         console.log(`did update, the count is ${ this.state.count }`); // ?
  //     }
  // }

  function App () {
    const [count, setCount] = React.useState(0);
    const [step, setStep] = React.useState(0);

    // didMount + didUpdate
    React.useEffect( () => {
      console.log(`effect hook called, the count is ${count}`);
      console.log(`effect hook called, the step is ${step}`);
      setTimeout( () => { setCount( count + 1) }, 1000);
    }, []);

    return (
            <div>
              <h4>Clicked { count } times!</h4>
              <button onClick={